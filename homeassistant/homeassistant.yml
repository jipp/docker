name: homeassistant
services:
  homeassistant:
    container_name: homeassistant
    devices:
    - /dev/ttyACM0
    environment:
      TZ: Europe/Berlin
    hostname: homeassistant
    healthcheck:
      test:
      - CMD-SHELL
      - wget https://localhost:8123 --no-check-certificate -q -O /dev/null > /dev/null
        2>&1
      start_period: 10s
    image: homeassistant/home-assistant:latest
    network_mode: host
    restart: unless-stopped
    volumes:
    - type: bind
      source: /docker/homeassistant/config
      target: /config
      bind:
        create_host_path: true
