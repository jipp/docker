name: certbot
services:
  certbot:
    command:
    - certonly
    - --standalone
    - --agree-tos
    - --expand
    - --dry-run
    - -v
    - --preferred-challenges=http
    - --email
    - wolfgang.keller@wobilix.de
    - --domain
    - dyndns.wobilix.de
    container_name: certbot
    hostname: certbot
#    image: certbot/certbot:arm64v8-latest
    image: certbot/certbot
    network_mode: host
    restart: "no"
    volumes:
    - type: bind
      source: /docker/certbot/etc/letsencrypt
      target: /etc/letsencrypt
      bind:
        create_host_path: true
    - type: bind
      source: /docker/certbot/var/lib/letsencrypt
      target: /var/lib/letsencrypt
      bind:
        create_host_path: true

