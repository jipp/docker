name: certbot
services:
  certbot:
    command:
    - certonly
    - --standalone
    - --agree-tos
    - --expand
    - --dry-run
    - -v
    - --preferred-challenges=http
    - --email
    - wolfgang.keller@wobilix.de
    - --domain
    - dyndns.wobilix.de
    container_name: certbot
    hostname: certbot
    image: certbot/certbot
    networks:
      default: null
    ports:
    - mode: ingress
      target: 80
      published: "8080"
      protocol: tcp
    restart: "no"
    volumes:
    - type: bind
      source: /docker/certbot/etc/letsencrypt
      target: /etc/letsencrypt
      bind:
        create_host_path: true
    - type: bind
      source: /docker/certbot/var/lib/letsencrypt
      target: /var/lib/letsencrypt
      bind:
        create_host_path: true
    - type: bind
      source: /docker/certbot/var/log/letsencrypt
      target: /var/log/letsencrypt
      bind:
        create_host_path: true
networks:
  default:
    name: certbot_default
